
class Solution:
    def depthSum(self, nestedList: List[NestedInteger]) -> int:
        stack = [(item, 1) for item in nestedList]
        depth = 1
        result = 0

        while stack:
            i, depth = stack.pop()
            if i.isInteger():
                result += i.getInteger()*depth
            else:
                for item in i.getList():
                    stack.append((item, depth+1))
        return result
        
